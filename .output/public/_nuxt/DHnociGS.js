import{_ as p}from"./BSUERUsb.js";import{_ as n,L as D}from"./CdiU8xsZ.js";import{_ as b}from"./BrwUk4Wb.js";import{d as C,r as c,L as k,v,x as s,z as o,A as d,M as e,N as q,t as u,B as r}from"./DqIkjvx5.js";import"./8DUjRo0o.js";const U={class:"max-w-[1400px] mx-auto pt-[200px]"},w={class:""},B={class:"flex flex-col gap-2"},L={class:"flex flex-col gap-2"},N={class:"flex flex-col gap-2"},$={class:"flex flex-col gap-2"},P={class:"flex flex-col gap-2"},A={class:"flex flex-col gap-2"},F={class:"flex flex-col gap-2"},S={class:"flex flex-col gap-2"},T={key:0,type:"submit",class:"bg-primary py-2 rounded-md"},G=C({__name:"admin",setup(z){const m=c(),_=c();function x(i){m.value=i.target.files[0]}function g(i){i.target.files[0]}const a=k({name:"",developer:"",releaseDate:"",price:0,description:"",genre:""}),f=c(!1),V=async i=>{i.preventDefault();const l=new FormData;l.append("cover",m.value),l.append("name",a.name),l.append("developer",a.developer),l.append("price",a.price),l.append("releaseDate",a.releaseDate),l.append("description",a.description),l.append("genre",a.genre),Array.from(_.value.files).map((y,h)=>l.append(h,y)),f.value=!0,await $fetch("http://92.53.105.185:5000/api/game/create",{method:"POST",body:l})&&(f.value=!1)};return(i,l)=>(u(),v("div",U,[s("div",w,[s("form",{onSubmit:V,class:"flex flex-col gap-4",autocomplete:"off"},[s("div",B,[o(e(n),{for:"name"},{default:d(()=>[r("name")]),_:1}),o(e(p),{id:"name",type:"text",required:"",modelValue:e(a).name,"onUpdate:modelValue":l[0]||(l[0]=t=>e(a).name=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",L,[o(e(n),{for:"dev"},{default:d(()=>[r("dev")]),_:1}),o(e(p),{id:"dev",type:"text",required:"",modelValue:e(a).developer,"onUpdate:modelValue":l[1]||(l[1]=t=>e(a).developer=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",N,[o(e(n),{for:"release"},{default:d(()=>[r("release")]),_:1}),o(e(p),{id:"release",type:"text",required:"",modelValue:e(a).releaseDate,"onUpdate:modelValue":l[2]||(l[2]=t=>e(a).releaseDate=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",$,[o(e(n),{for:"price"},{default:d(()=>[r("price")]),_:1}),o(e(p),{id:"price",type:"number",required:"",modelValue:e(a).price,"onUpdate:modelValue":l[3]||(l[3]=t=>e(a).price=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",P,[o(e(n),{for:"desc"},{default:d(()=>[r("desc")]),_:1}),o(e(p),{id:"desc",type:"text",required:"",modelValue:e(a).description,"onUpdate:modelValue":l[4]||(l[4]=t=>e(a).description=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",A,[o(e(n),{for:"genre"},{default:d(()=>[r("genre")]),_:1}),o(e(p),{id:"genre",type:"text",required:"",modelValue:e(a).genre,"onUpdate:modelValue":l[5]||(l[5]=t=>e(a).genre=t),autocomplete:"false"},null,8,["modelValue"])]),s("div",F,[o(e(n),{for:"cover"},{default:d(()=>[r("cover")]),_:1}),s("input",{ref:"file",name:"cover",id:"cover",type:"file",onChange:x},null,544)]),s("div",S,[o(e(n),{for:"pic"},{default:d(()=>[r("Pic")]),_:1}),s("input",{ref_key:"files",ref:_,name:"pic",id:"pic",type:"file",multiple:"",onChange:g},null,544)]),e(f)?(u(),q(e(b),{key:1,disabled:""},{default:d(()=>[o(e(D),{class:"w-4 h-4 mr-2 animate-spin"}),r(" Идёт вход ")]),_:1})):(u(),v("button",T," Войти "))],32)])]))}});export{G as default};
