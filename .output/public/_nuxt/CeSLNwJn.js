import{_ as V}from"./S7t_27Jn.js";import{u as P,a as N}from"./Bhr6qkRz.js";import{S as v,d,a1 as w,t as c,N as u,A as n,V as f,a2 as $,a3 as B,M as e,ao as R,ad as S,a4 as g,ap as F,c as x,z as o,aq as H,a5 as m,ar as U,as as j,at as q,au as E,v as y,x as i,B as h,y as k,q as z,W as X,a9 as K,aa as A,X as W,Z,av as G,a6 as J,R as I,a7 as Q,aw as Y,o as ee,ax as te}from"./DqIkjvx5.js";import{b as se,_ as ae,a as oe}from"./DM06SfJ6.js";import{_ as L}from"./BRd4b17C.js";import{_ as C}from"./BrwUk4Wb.js";import"./DlAUqK2U.js";/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=v("AlignRightIcon",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=v("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=v("UserRoundIcon",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=v("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ie=d({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:t}){const r=w(l,t);return(p,_)=>(c(),u(e(R),$(B(e(r))),{default:n(()=>[f(p.$slots,"default")]),_:3},16))}}),ce=d({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(l){const s=S(l);return(a,r)=>(c(),u(e(F),g({class:"outline-none"},e(s)),{default:n(()=>[f(a.$slots,"default")]),_:3},16))}}),de=d({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(l,{emit:t}){const s=l,a=t,r=x(()=>{const{class:_,...b}=s;return b}),p=w(r,a);return(_,b)=>(c(),u(e(U),null,{default:n(()=>[o(e(H),g(e(p),{class:e(m)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:n(()=>[f(_.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),M=d({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(l){const t=l,s=x(()=>{const{class:r,...p}=t;return p}),a=S(s);return(r,p)=>(c(),u(e(j),g(e(a),{class:e(m)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r.inset&&"pl-8",t.class)}),{default:n(()=>[f(r.$slots,"default")]),_:3},16,["class"]))}}),O=d({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,s=x(()=>{const{class:a,...r}=t;return r});return(a,r)=>(c(),u(e(q),g(s.value,{class:e(m)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}}),pe=d({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(l){const t=l,s=x(()=>{const{class:r,...p}=t;return p}),a=S(s);return(r,p)=>(c(),u(e(E),g(e(a),{class:e(m)("px-2 py-1.5 text-sm font-semibold",r.inset&&"pl-8",t.class)}),{default:n(()=>[f(r.$slots,"default")]),_:3},16,["class"]))}}),ue={class:"flex gap-2 items-center bg-black hover:bg-accent py-2 px-4 rounded-xl transition-all duration-200 ease-in-out"},fe={class:"flex flex-col items-start"},_e={class:"font-medium text-[16px]"},me={class:"font-medium text-[12px] text-muted-foreground"},he=d({__name:"profile",setup(l){const t=P(),s=async()=>{await $fetch("http://localhost:5000/api/user/logout",{method:"post",credentials:"include"}),t.clear(),z("/signin")};return(a,r)=>(c(),y("div",null,[o(e(ie),null,{default:n(()=>[o(e(ce),null,{default:n(()=>[i("div",ue,[o(e(se),{class:"w-[50px] h-[50px]"},{default:n(()=>[o(e(ae),{src:"https://github.com/radix-vue.png",alt:"@radix-vue"}),o(e(oe),null,{default:n(()=>[h(k(e(t).user.username),1)]),_:1})]),_:1}),i("div",fe,[i("p",_e,k(e(t).user.username),1),i("p",me,"Уровень "+k(e(t).user.level),1)])])]),_:1}),o(e(de),null,{default:n(()=>[o(e(pe),null,{default:n(()=>[h("Мой аккаунт")]),_:1}),o(e(O)),o(e(M),{class:"flex gap-2 items-center"},{default:n(()=>[o(e(re)),h("Профиль")]),_:1}),o(e(O)),o(e(M),{class:"flex gap-2 items-center",onClick:s},{default:n(()=>[o(e(le)),h("Выйти")]),_:1})]),_:1})]),_:1})]))}}),ge=d({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:t}){const r=w(l,t);return(p,_)=>(c(),u(e(X),$(B(e(r))),{default:n(()=>[f(p.$slots,"default")]),_:3},16))}}),ye=d({__name:"SheetTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(s,a)=>(c(),u(e(K),$(B(t)),{default:n(()=>[f(s.$slots,"default")]),_:3},16))}}),xe=d({__name:"SheetClose",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(s,a)=>(c(),u(e(A),$(B(t)),{default:n(()=>[f(s.$slots,"default")]),_:3},16))}}),be=d({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const s=l,a=t,r=x(()=>{const{class:_,side:b,...T}=s;return T}),p=w(r,a);return(_,b)=>(c(),u(e(J),null,{default:n(()=>[o(e(W),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),o(e(Z),g({class:e(m)(e(Be)({side:_.side}),s.class)},{...e(p),..._.$attrs}),{default:n(()=>[f(_.$slots,"default"),o(e(A),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:n(()=>[o(e(G),{class:"w-4 h-4 text-muted-foreground"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),ve=d({__name:"SheetHeader",props:{class:{}},setup(l){const t=l;return(s,a)=>(c(),y("div",{class:I(e(m)("flex flex-col gap-y-2 text-center items-center sm:text-left",t.class))},[f(s.$slots,"default")],2))}}),we=d({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const t=l,s=x(()=>{const{class:a,...r}=t;return r});return(a,r)=>(c(),u(e(Q),g({class:e(m)("text-lg font-semibold text-foreground",t.class)},s.value),{default:n(()=>[f(a.$slots,"default")]),_:3},16,["class"]))}}),$e=d({__name:"SheetFooter",props:{class:{}},setup(l){const t=l;return(s,a)=>(c(),y("div",{class:I(e(m)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[f(s.$slots,"default")],2))}}),Be=Y("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ke={class:"w-screen bg-transparent absolute"},Pe={class:"flex justify-between items-center px-4 max-w-[1400px] mx-auto py-4"},Se={class:"flex items-center gap-[40px]"},Ce=i("img",{src:L,width:"50",alt:"logo"},null,-1),De=i("h1",{class:"font-semibold text-[24px] font-eng"},[i("span",{class:"font-eng text-primary font-semibold"},"Play"),h("Hub ")],-1),Me=[Ce,De],Oe=i("nav",{class:"hidden gap-[20px] items-center text-[18px] sm:flex"},[i("a",{href:"#",class:"opacity-70 hover:opacity-100 transition-all ease-in-out duration-300"},"Новинки"),i("a",{href:"#",class:"opacity-70 hover:opacity-100 transition-all ease-in-out duration-300"},"Все игры"),i("a",{href:"#",class:"opacity-70 hover:opacity-100 transition-all ease-in-out duration-300"},"Статьи")],-1),ze={href:"/signin"},Ae=i("img",{src:L,width:"40",height:"40",alt:"logo"},null,-1),Ie=i("div",{class:"py-[50px]"},[i("nav",{class:"flex flex-col gap-[30px]"},[i("a",{href:"#"},"Новинки"),i("a",{href:"#"},"Все игры"),i("a",{href:"#"},"Статьи")])],-1),Le={href:"/signin"},Te=d({__name:"navbar",setup(l){const t=P();return(s,a)=>{const r=he;return c(),y("div",ke,[i("div",Pe,[i("div",Se,[i("div",{class:"flex gap-[10px] items-center cursor-pointer",onClick:a[0]||(a[0]=()=>("navigateTo"in s?s.navigateTo:e(z))("/"))},Me),Oe]),e(t).isAuth?(c(),u(r,{key:1})):(c(),u(e(C),{key:0,class:"hidden sm:flex hover:bg-accent-foreground text-black backdrop-opacity-10 backdrop-invert bg-white/60","as-child":""},{default:n(()=>[i("a",ze,[o(e(D),{class:"w-6 h-6 mr-2"}),h("Войти")])]),_:1})),o(e(ge),null,{default:n(()=>[o(e(ye),{"as-child":""},{default:n(()=>[o(e(ne),{class:"sm:hidden flex"})]),_:1}),o(e(be),null,{default:n(()=>[o(e(ve),null,{default:n(()=>[o(e(we),null,{default:n(()=>[Ae]),_:1})]),_:1}),Ie,o(e($e),null,{default:n(()=>[o(e(xe),{"as-child":""},{default:n(()=>[o(e(C),{type:"submit","as-child":""},{default:n(()=>[i("a",Le,[o(e(D),{class:"w-6 h-6 mr-2"}),h("Войти")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}}}),Ve={key:1},Ee=d({__name:"default",setup(l){const t=P(),s=N();return ee(async()=>{try{const a=await $fetch("http://92.53.105.185:5000/api/user/verify",{method:"GET",credentials:"include"});t.set({email:a.email,username:a.username,level:a.level,role:a.role,status:!0}),te({title:`Привет, ${t.user.username}👋`})}catch{t.clear()}finally{s.set(!1)}}),(a,r)=>{const p=V,_=Te;return c(),y("div",null,[e(s).isLoading?(c(),u(p,{key:0})):(c(),y("div",Ve,[o(_),f(a.$slots,"default")]))])}}});export{Ee as default};
